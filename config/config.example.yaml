# SSO Configuration in YAML format
# This file will be automatically found by config loader

# App settings
App:
  Env: "local"
  ServiceName: "sso"
  ServiceVersion: "1.0.0"
  EnableMetrics: true
  OTLPEndpoint: "http://localhost:4317"
  OTLPTransportType: "grpc"

# gRPC Server settings
GRPCServer:
  Host: "localhost"
  Port: "44044"
  Timeout: "30s"
  RetriesCount: 3

# Storage configuration
Storage:
  Type: "postgres" # postgres or mongo
  Postgres:
    ConnURL: "postgres://root:password@localhost:5432/sso_dev?sslmode=disable"
    ConnPoolSize: 10
    ReadTimeout: "5s"
    WriteTimeout: "5s"
    IdleTimeout: "60s"
    DialTimeout: "10s"
  Mongo:
    URI: "mongodb://localhost:27017"
    DBName: "sso_dev"
    Timeout: "30s"

# Redis Cache settings
Cache:
  Redis:
    Host: "localhost"
    Port: 6379
    Password: ""
    DB: 0
    PoolSize: 10
    MinIdleConns: 5
    SessionTTL: "24h"
    RevokedTokenTTL: "24h"

# JWT configuration
JWT:
  Issuer: "sso"
  SigningMethod: "RS256"
  JWKSTTL: "24h"
  AccessTokenTTL: "15m"
  RefreshTokenTTL: "720h"
  RefreshTokenCookieDomain: ""
  RefreshTokenCookiePath: "/"

# Password hashing configuration
PasswordHash:
  Type: "argon2"
  SaltLength: 24
  Pepper: "red-hot-chili-peppers"
  Argon:
    Time: 2
    Memory: 24576
    Parallelism: 2
    KeyLength: 24
  Bcrypt:
    Cost: 10

# Key storage configuration
KeyStorage:
  Type: "local"
  Local:
    Path: "./certs"
  S3:
    Region: ""
    Bucket: ""
    AccessKey: ""
    SecretKey: ""
    PrivateKeyPath: ""
    Endpoint: ""
    ForcePathStyle: false
    DisableSSL: false # Set to true for MinIO

# Mail service configuration (types: mock or mailgun)
MailService:
  Type: "mock"
  TemplatesPath: "./static/email_templates"
  Mailgun:
    Domain: ""
    PrivateAPIKey: ""
    Sender: ""

# Verification service configuration
VerificationService:
  TokenExpiryTime: "24h"
